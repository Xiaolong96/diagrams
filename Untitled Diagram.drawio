<mxfile host="app.diagrams.net" modified="2021-02-03T02:26:29.559Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36" etag="b-ZKVkbfSHxakUuhL-qL" version="14.2.7" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="2505" dy="907" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-21" value="" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;entryX=0.5;entryY=0;entryDx=0;entryDy=0;sketch=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-12" target="P1UB7HSZ6pOWpeYqLjef-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-12" value="webpack.config.js" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-230" y="100" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-26" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;sketch=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-20" target="P1UB7HSZ6pOWpeYqLjef-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-20" value="webpack(options)" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-150" y="210" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-24" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;sketch=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-22" target="P1UB7HSZ6pOWpeYqLjef-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-22" value="shell options" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-60" y="100" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-28" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;sketch=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-25" target="P1UB7HSZ6pOWpeYqLjef-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-25" value="compiler.run()" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-150" y="320" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-36" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;sketch=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-27" target="P1UB7HSZ6pOWpeYqLjef-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-27" value="&lt;span&gt;compiler.compile()&amp;nbsp;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-150" y="430" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-33" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontFamily=Comic Sans MS;direction=west;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="20" y="240" width="20" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.143;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-34" target="P1UB7HSZ6pOWpeYqLjef-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.583;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-34" target="P1UB7HSZ6pOWpeYqLjef-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-34" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;webpack 初始化，调用 createCompiler(options)&lt;/span&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;new Compiler(&lt;span&gt;options.context&lt;/span&gt;) 构建 compiler 对象&lt;br&gt;&lt;/li&gt;&lt;li&gt;调用外部自定义&amp;nbsp;plugin 的 apply 方法，注册安装插件&lt;/li&gt;&lt;li&gt;WebpackOptionsApply.process(&lt;span&gt;options, compiler&lt;/span&gt;)&amp;nbsp; 完成了用户配置的初始化，根据配置字段安装内部 plugin 和注册最基本的必备 plugin 【new XXXPlugin().apply(compiler)】；注册/调用 hook 事件&lt;br&gt;&lt;/li&gt;&lt;/ol&gt;" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="50" y="216.25" width="430" height="127.5" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-126" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-35" target="P1UB7HSZ6pOWpeYqLjef-125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-35" value="&lt;span&gt;compilation.addEntry()&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-160" y="540" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-49" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontFamily=Comic Sans MS;direction=west;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="132.5" width="20" height="65" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-50" value="解析 shell 和 config 中的配置项，生成 options" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="90" y="142.5" width="240" height="45" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-52" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;strokeColor=#000000;fillColor=#FFFFFF;gradientColor=none;fontFamily=Comic Sans MS;opacity=60;direction=east;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-270" y="120" width="20" height="220" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-53" value="&lt;blockquote style=&quot;margin: 0 0 0 40px ; border: none ; padding: 0px&quot;&gt;&lt;/blockquote&gt;" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-450" y="183.75" width="170" height="86.25" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-54" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;strokeColor=#000000;fillColor=#FFFFFF;gradientColor=none;fontFamily=Comic Sans MS;opacity=60;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-520" y="266" width="20" height="636.25" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-69" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-770" y="480" width="230" height="210" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-74" value="&lt;h1&gt;Tapable&lt;/h1&gt;&lt;p&gt;webpack 初始化，开启编译一般是由 webpack-cli 处理的，或者如 cra 项目的&amp;nbsp;&lt;br&gt;scripts/build.js&amp;nbsp;自定义启动脚本&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;fontFamily=Comic Sans MS;opacity=60;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-750" y="520" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-77" value="&lt;span style=&quot;text-align: left&quot;&gt;webpack 初始化，开启编译一般是由 webpack-cli 处理的，或者如 cra 项目的&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;text-align: left&quot;&gt;scripts/build.js&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;text-align: left&quot;&gt;自定义启动脚本&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;fontFamily=Comic Sans MS;opacity=60;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-443.25" y="186" width="156.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-80" value="&lt;font color=&quot;#2b3a42&quot; style=&quot;font-size: 12px&quot;&gt;&lt;b&gt;compiler&lt;/b&gt; 对象代表了完整的 webpack 环境配置，用于控制总流程，比如何时触发钩子&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="221" y="370.01" width="259" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-94" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontFamily=Comic Sans MS;direction=east;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-200" y="350" width="20" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-95" value="启动 webpack 编译&lt;br&gt;beforeRun -&amp;gt; run -&amp;gt; this.compile(onCompiled); -&amp;gt; done -&amp;gt; afterDone，主要控制编译的前后期流程，真正的编译交给 compilation" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-470" y="353.13" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-96" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontFamily=Comic Sans MS;direction=east;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-200" y="460" width="20" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-100" value="" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-97" target="P1UB7HSZ6pOWpeYqLjef-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-97" value="&lt;span&gt;触发 hook 流程：beforeCompile -&amp;gt; compile -&amp;gt; make -&amp;gt; afterCompile，在触发 make 钩子之前实例化了一个 compilation 对象，&lt;/span&gt;真正的编译构建过程注册在 &lt;b&gt;make&lt;/b&gt; 这个钩子的回调上" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-470" y="463.13" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-99" value="&lt;b&gt;compilation&lt;/b&gt; 对象代表了一次资源版本构建。当运行 webpack 开发环境中间件时，每当检测到一个文件变化，就会创建一个新的 compilation，从而生成一组新的编译资源。" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-470" y="570" width="260" height="70" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-104" value="make 注册" style="swimlane;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;strokeColor=#000000;fillColor=#FFFFFF;gradientColor=none;fontFamily=Comic Sans MS;opacity=60;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="80" y="440" width="350" height="260" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-117" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.403;entryY=0.115;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Comic Sans MS;" edge="1" parent="P1UB7HSZ6pOWpeYqLjef-104" source="P1UB7HSZ6pOWpeYqLjef-105" target="P1UB7HSZ6pOWpeYqLjef-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-105" value="&lt;span style=&quot;text-align: left&quot;&gt;WebpackOptionsApply&lt;/span&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;strokeColor=#000000;fontFamily=Comic Sans MS;opacity=60;html=1;" vertex="1" parent="P1UB7HSZ6pOWpeYqLjef-104">
          <mxGeometry x="20" y="40" width="250" height="52" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-106" value="new EntryOptionPlugin().apply(compiler);" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="P1UB7HSZ6pOWpeYqLjef-105">
          <mxGeometry y="26" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-118" style="edgeStyle=none;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" edge="1" parent="P1UB7HSZ6pOWpeYqLjef-104" source="P1UB7HSZ6pOWpeYqLjef-110" target="P1UB7HSZ6pOWpeYqLjef-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-110" value="&lt;span style=&quot;text-align: left&quot;&gt;EntryOptionPlugin&lt;/span&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;strokeColor=#000000;fontFamily=Comic Sans MS;opacity=60;html=1;" vertex="1" parent="P1UB7HSZ6pOWpeYqLjef-104">
          <mxGeometry x="20" y="114" width="310" height="52" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-111" value="new EntryPlugin(context, entry, options).apply(compiler);" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="P1UB7HSZ6pOWpeYqLjef-110">
          <mxGeometry y="26" width="310" height="26" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-112" value="&lt;span style=&quot;font-family: &amp;#34;helvetica&amp;#34;&quot;&gt;EntryPlugin&lt;/span&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;strokeColor=#000000;fontFamily=Comic Sans MS;opacity=60;html=1;" vertex="1" parent="P1UB7HSZ6pOWpeYqLjef-104">
          <mxGeometry x="40" y="190" width="250" height="52" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-113" value="compiler.hooks.make.tapAsync " style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="P1UB7HSZ6pOWpeYqLjef-112">
          <mxGeometry y="26" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-112" target="P1UB7HSZ6pOWpeYqLjef-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-122" value="订阅 make" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;fontFamily=Comic Sans MS;opacity=60;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-10" y="420" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-112" target="P1UB7HSZ6pOWpeYqLjef-35">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="50" y="656" />
              <mxPoint x="50" y="555" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-124" value="回调触发" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;labelBackgroundColor=none;sketch=1;sketchStyle=rough;fontFamily=Comic Sans MS;opacity=60;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-10" y="530" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-132" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-125" target="P1UB7HSZ6pOWpeYqLjef-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-125" value="&lt;span&gt;compilation.addModuleTree()&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-175" y="650" width="180" height="30" as="geometry" />
        </mxCell>
        <object label="" id="P1UB7HSZ6pOWpeYqLjef-135">
          <mxCell style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-129" target="P1UB7HSZ6pOWpeYqLjef-134">
            <mxGeometry relative="1" as="geometry" />
          </mxCell>
        </object>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-129" value="NormalModuleFactory.create()" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-181.25" y="760" width="192.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-133" value="&lt;font color=&quot;#2b3a42&quot;&gt;create 触发 hook 流程：&lt;/font&gt;&lt;span&gt;beforeResolve -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;factorize；&lt;br&gt;&lt;/span&gt;factorize hook 在&amp;nbsp;&lt;span&gt;NormalModuleFactory 的构造函数中注册；&lt;/span&gt;&lt;br&gt;factorize 回调触发：&lt;span&gt;resolve -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;afterResolve -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;createModule&lt;br&gt;&lt;/span&gt;" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="64" y="800" width="350" height="59" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-138" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Comic Sans MS;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="P1UB7HSZ6pOWpeYqLjef-134" target="P1UB7HSZ6pOWpeYqLjef-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-134" value="&lt;span&gt;hooks.resolve.callAsync&amp;nbsp;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-181.25" y="870" width="192.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-136" value="&lt;span&gt;&lt;br&gt;&lt;/span&gt;" style="text;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;rounded=1;fontFamily=Comic Sans MS;shadow=0;glass=0;sketch=1;imageAspect=1;sketchStyle=rough;strokeColor=#d79b00;fillColor=#ffe6cc;fillStyle=auto;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="64" y="921" width="350" height="59" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-137" value="&lt;span&gt;hooks.resolve.callAsync&amp;nbsp;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Comic Sans MS;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-181.25" y="980" width="192.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="P1UB7HSZ6pOWpeYqLjef-141" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontFamily=Comic Sans MS;direction=west;sketch=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="30" y="789.5" width="20" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
